OTG_FS_GLOBAL:
  GAHBCFG:
    _modify:
      GINT:
        name: GINTMSK
  GUSBCFG:
    _modify:
      CTXPKT:
        description: "Corrupt Tx packet\nNever set this bit to 1. This bit is for debug purposes only"
      PHYSEL:
        access: read-only
  GINTSTS:
    _modify:
      IPXFR_INCOMPISOOUT: # 2 state flags are occupied same bit field, "split" them
        name: IPXFR
        description: "Incomplete periodic transfer"
    _add:
      INCOMPISOOUT: # this flag is "split" from `IPXFR_INCOMPISOOUT` field
        description: "Incomplete isochronous OUT transfer"
        bitOffset: 21
        bitWidth: 1
        access: read-write
  _modify:
    GNPTXSTS:
      name: HNPTXSTS

OTG_FS_DEVICE:
  DIEPMSK:
    _add:
      NAKM:
        description: NAK interrupt mask
        bitOffset: 13
        bitWidth: 1
  DOEPMSK:
    _add:
      NAKMSK:
        description: NAK interrupt mask
        bitOffset: 13
        bitWidth: 1
      BERRM:
        description: NAK interrupt mask
        bitOffset: 12
        bitWidth: 1
      OUTPKTERRM:
        description: Out packet error mask
        bitOffset: 8
        bitWidth: 1
      STSPHSRXM:
        description: Status phase received for control write mask
        bitOffset: 5
        bitWidth: 1
  DIEPCTL0:
    _modify:
      EPTYP:
        description: "Endpoint type\nHardcoded to '00' for control"
      USBAEP:
        description: "USB active endpoint\nThis bit is always set to 1, indicating that control endpoint 0 is always active in all configurations and interfaces"
  DIEPCTL1:
    _add:
      SODDFRM:
        description: Set odd frame
        bitOffset: 29
        bitWidth: 1
  DIEPCTL[1-3]:
    _modify:
      SD0PID_SEVNFRM: # 2 flags are occupied same bit field, "split" them
        name: SD0PID
        description: "Set DATA0 PID"
      EONUM_DPID: # 2 flags are occupied same bit field, "split" them
        name: EONUM
        description: "Even/odd frame"
    _add:
      SEVNFRM: # this flag is "split" from `SD0PID_SEVNFRM` field
        description: Set even frame
        bitOffset: 28
        bitWidth: 1
        access: write-only
      STALL:
        description: STALL handshake
        bitOffset: 21
        bitWidth: 1
      DPID: # this flag is "split" from `EONUM_DPID` field
        description: Endpoint data PID
        bitOffset: 16
        bitWidth: 1
        access: read-only
  DOEPCTL0:
    _modify:
      EPDIS:
        description: "Endpoint disable\nThe application CANNOT disable control OUT endpoint 0.\nEndpoint disable"
      EPTYP:
        description: "Endpoint type\nHardcoded to '00' for control"
      USBAEP:
        description: "USB active endpoint\nThis bit is always set to 1, indicating that control endpoint 0 is always active in all configurations and interfaces"
    _add:
      STALL:
        desciption: "STALL handshake"
        bitOffset: 21
        bitWidth: 1
        access: read-only
  DOEPCTL[1-3]:
    _modify:
      SODDFRM_SD1PID: # 2 flags are occupied same bit field, "split" them
        name: SD1PID
        description: Set DATA1 PID
      SD0PID_SEVNFRM: # 2 flags are occupied same bit field, "split" them
        name: SD0PID
        description: Set DATA0 PID
      EONUM_DPID: # 2 flags are occupied same bit field, "split" them
        name: EONUM
        description: Even/odd frame
    _add:
      SODDFRM: # this flag is "split" from `SODDFRM_SD1PID` field
        description: Set odd frame
        bitOffset: 29
        bitWidth: 1
        access: write-only
      SEVNFRM: # this flag is "split" from `SD0PID_SEVNFRM` field
        description: Set odd frame
        bitOffset: 28
        bitWidth: 1
        access: write-only
      DPID: # this flag is "split" from `EONUM_DPID` field
        description: Endpoint data PID
        bitOffset: 16
        bitWidth: 1
        access: read-only
